<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>OJINGEO PROJECT</title>

<link rel="icon" type="image/png" href="favicon.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>

<style>
@font-face {
  font-family: "SquidFont";
  src: url("fonts/squid.ttf") format("truetype");
}

* { box-sizing: border-box; font-family: "SquidFont"; }

body {
  margin: 0;
  background:#0f0f0f;
  color:white;
}

/* NAV TOP RIGHT */
header {
  padding:40px;
  background:radial-gradient(circle at top,#1a1a1a,#000);
  position:relative;
}

.nav {
  position:absolute;
  top:20px;
  right:20px;
  display:flex;
  gap:10px;
}

.btn {
  padding:12px 22px;
  background:#ff3b3b;
  border:none;
  border-radius:6px;
  color:white;
  cursor:pointer;
}

.btn.secondary {
  background:#222;
  border:1px solid #444;
}

section {
  padding:80px 20px;
  max-width:1100px;
  margin:auto;
}

.hidden {
  display:none;
}

/* MEDIA */
.media-grid {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:30px;
}

.media-grid iframe {
  width:100%;
  height:420px;
  border:none;
  border-radius:12px;
}

/* SHOP */
.shop-controls {
  display:flex;
  gap:10px;
  margin-bottom:20px;
}

.shop-controls input,
.shop-controls select {
  padding:10px;
  background:#111;
  color:white;
  border:1px solid #333;
  border-radius:6px;
}

.shop-grid {
  max-height:420px;
  overflow-y:auto;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}

.shop-item {
  background:#141414;
  border:1px solid #222;
  border-radius:10px;
  padding:15px;
}

/* ACCOUNT */
.account-box {
  max-width:420px;
  margin:auto;
  background:#141414;
  padding:25px;
  border-radius:12px;
}

/* RARITIES */
.common{color:#7ad7ff}
.rare{color:#ff4b4b}
.superrare{color:#ff5fd2}
.special{color:#5fff7a}
.exotic{color:gold}
.mythical{color:#b36bff}
</style>
</head>

<body>

<header>
  <div class="nav">
    <button class="btn secondary" onclick="switchPage('home')">Home</button>
    <button class="btn secondary" onclick="switchPage('media')">Media</button>
    <button class="btn secondary" onclick="switchPage('shop')">Shop</button>
    <button class="btn secondary" onclick="switchPage('account')">Account</button>
  </div>

  <img src="images/logo.png" width="300">
</header>

<section id="home">
  <h2>Welcome to OJINGEO PROJECT</h2>
</section>

<section id="media" class="hidden">
  <h2>Media</h2>
  <div class="media-grid">
    <iframe src="https://www.youtube.com/embed/sIyS_o_70-A"></iframe>
    <iframe src="https://www.youtube.com/embed/fsFGFWvBnCw"></iframe>
  </div>
</section>

<section id="shop" class="hidden">
  <h2>Shop</h2>

  <div class="shop-controls">
    <input id="search" placeholder="Search skins">
    <select id="filter">
      <option value="">All rarities</option>
      <option value="common">Common</option>
      <option value="rare">Rare</option>
      <option value="mythical">Mythical</option>
    </select>
  </div>

  <div id="shopGrid" class="shop-grid"></div>
</section>

<section id="account" class="hidden">
  <h2>Account</h2>

  <div class="account-box">
    <input id="email" placeholder="Email"><br><br>
    <input id="password" type="password" placeholder="Password"><br><br>
    <button class="btn" onclick="login()">Login / Register</button>
    <p id="userStatus">Not logged in</p>
  </div>
</section>

<script>
/* PAGE SWITCH */
function switchPage(id){
  document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

/* SUPABASE */
const supabase = supabasejs.createClient(
  "SUPABASE_URL",
  "SUPABASE_ANON_KEY"
);

async function login(){
  const email=document.getElementById("email").value;
  const password=document.getElementById("password").value;

  const { data, error } = await supabase.auth.signInWithPassword({
    email,password
  });

  if(error){
    await supabase.auth.signUp({ email,password });
  }

  document.getElementById("userStatus").innerText="Logged in";
}

/* SHOP DATA */
const items=[
  {name:"Pink Guard",rarity:"rare",benefit:"+5% XP"},
  {name:"Frontman Cloak",rarity:"mythical",benefit:"+10% authority"},
  {name:"VIP Mask",rarity:"exotic",benefit:"Exclusive access"}
];

const grid=document.getElementById("shopGrid");
const search=document.getElementById("search");
const filter=document.getElementById("filter");

function renderShop(){
  grid.innerHTML="";
  items.filter(i=>
    i.name.toLowerCase().includes(search.value.toLowerCase()) &&
    (!filter.value || i.rarity===filter.value)
  ).forEach(i=>{
    grid.innerHTML+=`
      <div class="shop-item">
        <h3 class="${i.rarity}">${i.name}</h3>
        <p>${i.benefit}</p>
      </div>`;
  });
}
search.oninput=filter.onchange=renderShop;
renderShop();
</script>

</body>
</html>
